\documentclass{article}

%% Title
%% ----------------------------------------------------------------------------

% 标题信息的设置。并不会真正生成标题
\title{\LaTeX\ 使用简例}
\author{Jy}
\date{\today}

%% Colors
%% ----------------------------------------------------------------------------

\usepackage{xcolor}
\definecolor{lightblue}{RGB}{39, 104, 192}

%% Links
%% ----------------------------------------------------------------------------

\usepackage[
    bookmarksnumbered,
    pdfencoding=auto,
    pdfborder=1,
    breaklinks,
    colorlinks, linkcolor=lightblue, urlcolor=blue
]{hyperref}
\hypersetup{
    pdfmenubar=true,
    citecolor=green,
    filecolor=magenta,
}
\usepackage{url}

\usepackage[
    nameinlink,
    noabbrev,
]{cleveref}

%% Tables
%% ----------------------------------------------------------------------------

\usepackage{booktabs}
\newcommand*\botrule{\bottomrule}

%% Fonts
%% ----------------------------------------------------------------------------

%% English fonts
\usepackage[no-math]{fontspec}
% \setmainfont[Mapping=tex-text]{Times New Roman}
% \setsansfont[Mapping=tex-text]{Calibri}
% \setmonofont{Courier New}
%% Chinese, needs fontspec
\usepackage[CJKchecksingle]{xeCJK}
\usepackage{CJKnumb}
	\setCJKmainfont[
        BoldFont   = {Microsoft YaHei},
        ItalicFont = {KaiTi}]
        {FangSong}
	\setCJKmonofont{Microsoft YaHei}
	\punctstyle{hangmobanjiao}

%% Coding
%% ----------------------------------------------------------------------------

\usepackage{listings}
\lstset{%
    basicstyle=\ttfamily
}

%% Math
%% ----------------------------------------------------------------------------

\usepackage{amsmath, amssymb}

%% Markup
%% ----------------------------------------------------------------------------

\def\code{\lstinline}
\newcommand*\propername[1]{\textit{#1}}
\newcommand*\propernameZH[1]{《#1》}

%% Document
%% ----------------------------------------------------------------------------

\begin{document}

\maketitle % 加上这句话才会生成标题


\section{基本规则}

姊姊好！
行文的基本规则和 Markdown 其实差不太多：
一段话内容由若干行连续的文字组成。
两段话之间由至少一个空行分隔开来。
注意你在源文件（\path{xxx.tex}）
里加入多少个空行都会被当成一个空行来对待，
这一点对于空格来说也是一样的。
使用 \LaTeX\ 时建议先不要管排版，
所以不要想着要在最后的文档中哪里插入空行或者空格。
你只要专注于你想要写的「内容」上，
而不用担心「格式」上的问题。

看。这就是第二个自然段了。

一些常用的 ``Markup'' 包括%
    \emph{强调}的内容，
    行间\code`代码`，
    以及
    \propernameZH{书名}或\propername{A Book's Name}。

你可以像编程时一样在文档中使用「注释」：
在 \LaTeX\ 中，
我们用一个百分号（\code`%`）作为行注释符。
比如
% 这是一个注释
这里的源代码实际上是：
\begin{lstlisting}[language={[LaTeX]TeX}]
比如
% 这是一个注释
这里的源代码实际上是：
\end{lstlisting}

\section{列表}

下面是几种列表（list）的使用。
一个没有标序号的列表叫「无序列表（unordered list）」：
\begin{itemize}
\item
    苹果
\item
    梨
\item
    香蕉
\end{itemize}
一个标有序号的列表则叫「有序列表（ordered list）」：
\begin{enumerate}
\item
    苹果
\item
    梨
\item
    香蕉
\end{enumerate}
还有一种列表叫描述列表「（description list）」：
\begin{description}
\item[苹果]
    红色
\item[梨]
    浅黄色
\item[香蕉]
    黄色
\end{description}

\section{图表}

我们也可以插入图片（figure），比如 \cref{fig:attention}。
\begin{figure}[htpb]
    \centering
    \includegraphics[width=0.8\linewidth]{pics/thanks-for-your-attention.png}
    \caption{中国某市某繁华街区十字路口附近的墙上张贴的启事}
    \label{fig:attention}
\end{figure}
写的时候尽量使用 \code`label` 与 \code`cref` 交叉引用的方式来书写。
避免依靠图、表的位置来描述。
即多使用 \code`如 \cref{xxx} 所示`
而避免使用 \code`如下图所示`
这样的语言。

要插入一张表（table），就使用 \code`table` 环境。
你可以用 Word 做好表导出成图片再引用进来（如 \cref{tab:wordtab}）。
也可以在 \LaTeX\ 中编写表格（如 \cref{tab:latextab}），
其实也很简单。

\begin{table}[htpb]
    \centering
    \caption{%
        这张表是用 Google Doc 制作、再作为图片的形式导入进来的。
    }
    \label{tab:wordtab}
    \includegraphics[width=10cm]{pics/fruit-specs.png}
\end{table}

\begin{table}[htpb]
    \centering
    \caption{%
        这张表是直接使用 \LaTeX\ 编写的。
    }
    \label{tab:latextab}
    \begin{tabular}{clr} % 三列，对齐方式分别为：中C 左L 右R
        \toprule
        水果 & 颜色   & 价格（美元/磅） \\
        \midrule
        香蕉 & 黄色   & 0.69            \\
        梨   & 浅黄色 & 2.83            \\
        苹果 & 红色   & 2134.87         \\
        \botrule
    \end{tabular}
\end{table}

\section{代码陈列}

代码可以直接写在文档里面，
也可以从一个文件中截取。
下面是直接写在文档中的代码：
\begin{lstlisting}[language=python]
print('hello world')
\end{lstlisting}
这是 \path{code/hello.py} 中的内容：
\lstinputlisting[language=python]{code/hello.py}
下面我们截取其中的第二到三行：
\lstinputlisting[language=python, firstline=2, lastline=3]{code/hello.py}

注意直接写在文档中的代码前面不要留有空格，
否则空格会被保留。
比如
「这样写」
和
                                    「这样写」
在生成的 PDF 中是一样的；
但
\begin{lstlisting}[language=python]
print('hello world')
\end{lstlisting}
和
    \begin{lstlisting}[language=python]
    print('hello world')
    \end{lstlisting}
则是不一样的（代码部分空格会被保留）。


\section{数学公式}

数学公式呢，
其实和上次是一样的
（因为上次就是在用 \LaTeX\ 来编译的数学公式啦）。
再复习一下：
行间的数学内容用一对美元符号（\code`$`）来包围，
比如 $e^{i\pi} + 1 = 0$。
大块的或重要的数学内容单独展示，
此时可以使用基本的 \code`\[` 和 \code`\]` 来包围：
\[
    \log_{10} 10 = 1
\]
或更复杂的 \code `multiline` 来展示多行公式：
\begin{multline*}
    x = 4 \times \Bigl( y \cdot z + \frac{1}{2} c \Bigr) \\
      = 4 y \cdot z + \frac{4}{2} c \\
      = 4 y \cdot z + 2 c \\
      = 4 \times 2^{12} \times 2^{-10} + 2 \times \lg 100 \\
      = 4 \times 2^2 + 2 \times 2 \\
      = 4 \times 16 + 4 \\
      = 64 + 4 \\
      = 68
\end{multline*}
如果你有强迫症、需要将等号对齐，
可以这样写：
\[
    \begin{split}
        x &= 4 \times \Bigl( y \cdot z + \frac{1}{2} c \Bigr) \\
          &= 4 y \cdot z + \frac{4}{2} c \\
          &= 4 y \cdot z + 2 c \\
          &= 4 \times 2^{12} \times 2^{-10} + 2 \times \lg 100 \\
          &= 4 \times 2^2 + 2 \times 2 \\
          &= 4 \times 16 + 4 \\
          &= 64 + 4 \\
          &= 68
    \end{split}
\]

关于括号的大小：
推荐手动选择合适大小的括号。
括号的尺寸小（正常）到大分别为
\begin{itemize}
\item
    不加括号、
\item
    \code`\bigl` 和 \code`\bigr`、
\item
    \code`\Bigl` 和 \code`\Bigr`、
\item
    \code`\biggl` 和 \code`\biggr`、
    以及
\item
    \code`\Biggl` 和 \code`\Biggr`。
\end{itemize}
这些括号的效果如下：
\[
    \Biggl(\biggl(\Bigl(\bigl((x)\bigr)\Bigr)\biggr)\Biggr)
\]

如果你有什么数学符号不知道该怎么打，
可以参考\href{http://web.mit.edu/rsi/www/pdfs/math-symbols.pdf}{这份资料}。

\end{document}

